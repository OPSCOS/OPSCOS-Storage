SELECT
LNP_RECORD_KEY,
LNP_RECORD_ID,
RECORD_NUMBER, 
ATTRIBUTE_CATEGORY,
PERSON_FIRST_NAME || ' ' || PERSON_LAST_NAME AS APPLICANT_NAME, 
DESCRIPTION,
EXTN_ATTRIBUTE_NUMBER004 AS EMERGENCY_NUM,
EXTN_ATTRIBUTE_CHAR003 AS EMERGENCY_NAME, 
EXTN_ATTRIBUTE_CHAR007 AS LOCATION_OF_EVENT,
EXTN_ATTRIBUTE_CHAR008 AS DURATION_ONE,
EXTN_ATTRIBUTE_CHAR010 AS DURATION_TWO,
EXTN_ATTRIBUTE_CHAR009 AS TOOLS_ONE,
EXTN_ATTRIBUTE_CHAR011 AS TOOLS_TWO,


EXTRACT(YEAR FROM (ISSUE_DATE)) AS YEAR,
	
			

---ISSUE DATE 

 CASE 
        WHEN EXTRACT(MONTH FROM ISSUE_DATE) = 1 THEN 'January'
        WHEN EXTRACT(MONTH FROM ISSUE_DATE) = 2 THEN 'February'
        WHEN EXTRACT(MONTH FROM ISSUE_DATE) = 3 THEN 'March'
        WHEN EXTRACT(MONTH FROM ISSUE_DATE) = 4 THEN 'April'
        WHEN EXTRACT(MONTH FROM ISSUE_DATE) = 5 THEN 'May'
        WHEN EXTRACT(MONTH FROM ISSUE_DATE) = 6 THEN 'June'
        WHEN EXTRACT(MONTH FROM ISSUE_DATE) = 7 THEN 'July'
        WHEN EXTRACT(MONTH FROM ISSUE_DATE) = 8 THEN 'August'
        WHEN EXTRACT(MONTH FROM ISSUE_DATE) = 9 THEN 'September'
        WHEN EXTRACT(MONTH FROM ISSUE_DATE) = 10 THEN 'October'
        WHEN EXTRACT(MONTH FROM ISSUE_DATE) = 11 THEN 'November'
        WHEN EXTRACT(MONTH FROM ISSUE_DATE) = 12 THEN 'December'
        ELSE NULL 
    END || ' ' ||
    EXTRACT(DAY FROM ISSUE_DATE) || ', ' ||
    EXTRACT(YEAR FROM ISSUE_DATE) AS ISSUE_DATE,
    
    
  

CASE 
        WHEN EXTRACT(MONTH FROM CAST(EXTN_ATTRIBUTE_TIMESTAMP002 AS TIMESTAMP) AT TIME ZONE 'EST') = 1 THEN 'January'
        WHEN EXTRACT(MONTH FROM CAST(EXTN_ATTRIBUTE_TIMESTAMP002 AS TIMESTAMP) AT TIME ZONE 'EST') = 2 THEN 'February'
        WHEN EXTRACT(MONTH FROM CAST(EXTN_ATTRIBUTE_TIMESTAMP002 AS TIMESTAMP) AT TIME ZONE 'EST') = 3 THEN 'March'
        WHEN EXTRACT(MONTH FROM CAST(EXTN_ATTRIBUTE_TIMESTAMP002 AS TIMESTAMP) AT TIME ZONE 'EST') = 4 THEN 'April'
        WHEN EXTRACT(MONTH FROM CAST(EXTN_ATTRIBUTE_TIMESTAMP002 AS TIMESTAMP) AT TIME ZONE 'EST') = 5 THEN 'May'
        WHEN EXTRACT(MONTH FROM CAST(EXTN_ATTRIBUTE_TIMESTAMP002 AS TIMESTAMP) AT TIME ZONE 'EST') = 6 THEN 'June'
        WHEN EXTRACT(MONTH FROM CAST(EXTN_ATTRIBUTE_TIMESTAMP002 AS TIMESTAMP) AT TIME ZONE 'EST') = 7 THEN 'July'
        WHEN EXTRACT(MONTH FROM CAST(EXTN_ATTRIBUTE_TIMESTAMP002 AS TIMESTAMP) AT TIME ZONE 'EST') = 8 THEN 'August'
        WHEN EXTRACT(MONTH FROM CAST(EXTN_ATTRIBUTE_TIMESTAMP002 AS TIMESTAMP) AT TIME ZONE 'EST') = 9 THEN 'September'
        WHEN EXTRACT(MONTH FROM CAST(EXTN_ATTRIBUTE_TIMESTAMP002 AS TIMESTAMP) AT TIME ZONE 'EST') = 10 THEN 'October'
        WHEN EXTRACT(MONTH FROM CAST(EXTN_ATTRIBUTE_TIMESTAMP002 AS TIMESTAMP) AT TIME ZONE 'EST') = 11 THEN 'November'
        WHEN EXTRACT(MONTH FROM CAST(EXTN_ATTRIBUTE_TIMESTAMP002 AS TIMESTAMP) AT TIME ZONE 'EST') = 12 THEN 'December'
        ELSE NULL
    END || ' ' || EXTRACT(DAY FROM CAST(EXTN_ATTRIBUTE_TIMESTAMP002 AS TIMESTAMP) AT TIME ZONE 'EST') 
    || ', ' || EXTRACT(YEAR FROM CAST(EXTN_ATTRIBUTE_TIMESTAMP002 AS TIMESTAMP) AT TIME ZONE 'EST') AS EXPIRATION_DATE
    
 




FROM PSC_LNP_RECORD
WHERE LNP_RECORD_ID = :P_LNP_RECORD_ID
ORDER BY CREATION_DATE DESC
