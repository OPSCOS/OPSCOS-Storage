SELECT
-- GENERAL --
    LNP_RECORD_KEY,
    LNP_RECORD_ID,
    ATTRIBUTE_CATEGORY,
    --APPLICANT INFO
    PERSON_FIRST_NAME ||' '|| PERSON_LAST_NAME AS PERSON_FULL_NAME,
    PERSON_FIRST_NAME AS APPLICANT_FIRST_NAME,
    PERSON_LAST_NAME AS APPLICANT_LAST_NAME,
	PHONE_NUMBER as APPLICANT_PHONE_NUMBER,
	
    --EMERGENCY CONTACT INFO
 	EXTN_ATTRIBUTE_CHAR011 AS EMERGENCY_CONTACT_NAME,
    EXTN_ATTRIBUTE_CHAR012 AS EMERGENCY_PHONE_NUM,
    
    --CONDITIONS 
    EXTN_ATTRIBUTE_CHAR027 AS ZONING_CONDITIONS,
    EXTN_ATTRIBUTE_CHAR028 AS BUILDING_CONDITIONS,
    EXTN_ATTRIBUTE_CHAR026 AS TTP_CONDITIONS,
    EXTN_ATTRIBUTE_CHAR030 AS FIRE_MARSHALL_CONDITIONS,
    EXTN_ATTRIBUTE_CHAR029 AS HEALTH_CONDITIONS,
    
 -- SEATS
 	EXTN_ATTRIBUTE_NUMBER005 AS TOTAL_NUM_SEATS,
    EXTN_ATTRIBUTE_NUMBER006 AS TOTAL_NUM_OUTSIDE_SEATS,
		
--OTHER 
---1---
	CASE EXTN_ATTRIBUTE_CHAR025
    	WHEN 'NO' THEN 'No'
        WHEN 'YES' THEN 'Yes'
    ELSE NULL
    END AS APPROVED_INROAD_DINING,
 
---2--- 
CASE 
	WHEN EXTN_ATTRIBUTE_CHAR009 IS NOT NULL THEN EXTN_ATTRIBUTE_CHAR009
    ELSE 'N/A'
    END AS LIQUOR_LICENSE_NUM,
---3---
    EXTN_ATTRIBUTE_CHAR003 AS NAME_OF_RESTAURANT,
     
    
    ---ISSUE DATE 

 CASE 
        WHEN EXTRACT(MONTH FROM ISSUE_DATE) = 1 THEN 'January'
        WHEN EXTRACT(MONTH FROM ISSUE_DATE) = 2 THEN 'February'
        WHEN EXTRACT(MONTH FROM ISSUE_DATE) = 3 THEN 'March'
        WHEN EXTRACT(MONTH FROM ISSUE_DATE) = 4 THEN 'April'
        WHEN EXTRACT(MONTH FROM ISSUE_DATE) = 5 THEN 'May'
        WHEN EXTRACT(MONTH FROM ISSUE_DATE) = 6 THEN 'June'
        WHEN EXTRACT(MONTH FROM ISSUE_DATE) = 7 THEN 'July'
        WHEN EXTRACT(MONTH FROM ISSUE_DATE) = 8 THEN 'August'
        WHEN EXTRACT(MONTH FROM ISSUE_DATE) = 9 THEN 'September'
        WHEN EXTRACT(MONTH FROM ISSUE_DATE) = 10 THEN 'October'
        WHEN EXTRACT(MONTH FROM ISSUE_DATE) = 11 THEN 'November'
        WHEN EXTRACT(MONTH FROM ISSUE_DATE) = 12 THEN 'December'
        ELSE NULL 
    END || ' ' ||
    EXTRACT(DAY FROM ISSUE_DATE) || ', ' ||
    EXTRACT(YEAR FROM ISSUE_DATE) AS ISSUE_DATE,
    
    
    
    ---EXPIRATION DATE 

 CASE 
        WHEN EXTRACT(MONTH FROM EXTN_ATTRIBUTE_TIMESTAMP001) = 1 THEN 'January'
        WHEN EXTRACT(MONTH FROM EXTN_ATTRIBUTE_TIMESTAMP001) = 2 THEN 'February'
        WHEN EXTRACT(MONTH FROM EXTN_ATTRIBUTE_TIMESTAMP001) = 3 THEN 'March'
        WHEN EXTRACT(MONTH FROM EXTN_ATTRIBUTE_TIMESTAMP001) = 4 THEN 'April'
        WHEN EXTRACT(MONTH FROM EXTN_ATTRIBUTE_TIMESTAMP001) = 5 THEN 'May'
        WHEN EXTRACT(MONTH FROM EXTN_ATTRIBUTE_TIMESTAMP001) = 6 THEN 'June'
        WHEN EXTRACT(MONTH FROM EXTN_ATTRIBUTE_TIMESTAMP001) = 7 THEN 'July'
        WHEN EXTRACT(MONTH FROM EXTN_ATTRIBUTE_TIMESTAMP001) = 8 THEN 'August'
        WHEN EXTRACT(MONTH FROM EXTN_ATTRIBUTE_TIMESTAMP001) = 9 THEN 'September'
        WHEN EXTRACT(MONTH FROM EXTN_ATTRIBUTE_TIMESTAMP001) = 10 THEN 'October'
        WHEN EXTRACT(MONTH FROM EXTN_ATTRIBUTE_TIMESTAMP001) = 11 THEN 'November'
        WHEN EXTRACT(MONTH FROM EXTN_ATTRIBUTE_TIMESTAMP001) = 12 THEN 'December'
        ELSE NULL 
    END || ' ' ||
    EXTRACT(DAY FROM EXTN_ATTRIBUTE_TIMESTAMP001) || ', ' ||
    EXTRACT(YEAR FROM EXTN_ATTRIBUTE_TIMESTAMP001) AS INSURANCE_EXPIRATION,
   
    
'November 30, ' || EXTRACT(YEAR FROM(ISSUE_DATE)) AS EXPERATION_DATE



FROM PSC_LNP_RECORD
WHERE LNP_RECORD_ID = :P_LNP_RECORD_ID
ORDER BY CREATION_DATE DESC
